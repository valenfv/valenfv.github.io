(this.webpackJsonptraza=this.webpackJsonptraza||[]).push([[0],{120:function(e,t,a){},181:function(e,t,a){e.exports=a(321)},321:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(10),r=a.n(i),s=(a(120),a(45)),o=a(89),c=a(57),d=a(50),m=a(19),p=a(20),u=a(41),g=a(21),h=a(23),f=a(15),b=a(382),v=a(377),E=a(381),y=a(378),S=a(383),k=a(324),x=a(379),C=a(384),O=a(376),w=a(395),N=a(370),j=a(393),A=a(323),T=a(322),z=a(397),G=a(380),B=a(394),W=a(398),I=a(81),L=a.n(I),F=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement(L.a,{options:{height:"250px",edges:{smooth:!0}},graph:this.props.graph,getNodes:this.props.getNodes,getEdges:this.props.getEdges})}}]),a}(n.Component),P=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).options={layout:{},height:"500px",groups:{useDefaultGroups:!0},physics:{enabled:!1},interaction:{dragNodes:!1,dragView:!0,hover:!1,hoverConnectedEdges:!0,multiselect:!0,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,tooltipDelay:300,zoomView:!0}},e.events={selectNode:function(e){var t,a=[],n=this.body.nodes[e.nodes[0]].options.group;for(t in this.body.nodes)this.body.nodes[t].options.group===n&&a.push(t);this.selectNodes(a,!0)}},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement(L.a,{key:"Graph",graph:this.props.graph,getNodes:this.props.getNodes,getEdges:this.props.getEdges,events:this.events,options:this.options})}}]),a}(n.Component),V=a(387),R=a(391),_=a(390),D=a(386),J=a(388),U=a(389),M=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={valor:e.props.valor},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(N.a,{style:{minWidth:"100%"}},l.a.createElement(W.a,{disabled:!0,label:"Preview",variant:"outlined",name:"pepe",type:"text",key:"333",value:this.props.valor,onChange:function(t){e.setState({valor:t.target.value})}}),l.a.createElement(v.a,{type:"submit",onClick:function(t){e.props.callBackAdd()},variant:"outlined",color:"primary",minWidth:"100%"},"Agregar sentencia"))}}]),a}(n.Component),q=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onChangeTxtFieldLatency=n.onChangeTxtFieldLatency.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"onChangeTxtFieldLatency",value:function(e){this.props.onChangeTxtFieldLatency(e.target.id,e.target.value)}},{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(N.a,{component:"fieldset",style:e.formControl},l.a.createElement(T.a,{component:"legend"},"Seleccione la latencia de las operaciones "),l.a.createElement("br",null),l.a.createElement(y.a,{container:!0,direction:"column"},l.a.createElement(y.a,{item:!0,xs:!0},l.a.createElement(W.a,{style:{maxWidth:"100%"},id:"asignacion",label:"Asignacion",value:this.props.latencias.asignacion,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),l.a.createElement(y.a,{item:!0,xs:!0},l.a.createElement(W.a,{style:{maxWidth:"100%"},id:"resta",label:"Resta",value:this.props.latencias.resta,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),l.a.createElement(y.a,{item:!0,xs:!0},l.a.createElement(W.a,{style:{maxWidth:"100%"},id:"multiplicacion",label:"Multiplicacion",value:this.props.latencias.multiplicacion,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),l.a.createElement(y.a,{item:!0,xs:!0},l.a.createElement(W.a,{style:{maxWidth:"100%"},id:"division",label:"Division",value:this.props.latencias.division,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),l.a.createElement(y.a,{item:!0,xs:!0},l.a.createElement(W.a,{style:{maxWidth:"100%"},id:"suma",label:"Suma",value:this.props.latencias.suma,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}}))))}}]),a}(n.Component),X=a(171),Z=a.n(X);function $(e,t,a,n,l,i,r){if(a===t.length-1)l.push(n),i.push([].concat(r));else for(var s=e[t[a]][t[a+1]],o=0;o<s.length;o++){var c=void 0===r[r.length-1]?s[o].offset:r[r.length-1]+s[o].offset;r.push(c),$(e,t,a+1,n+s[o].offset,l,i,r),r.pop()}}function H(e,t,a,n){for(var l="",i=0,r=0;r<e.length-1;r++)r==e.length-2?l+=t[e[r]].latencia.toString():l+=t[e[r]].latencia.toString()+" + ",i+=t[e[r]].latencia;var s=i;return{path:l,total:i*=0!=a&&1!=a?n/a:n,tiempoViejo:s}}function K(e,t,a){for(var n="(",l=0;l<e.length-1;l++)l==e.length-2?n+="S"+(e[l]+1).toString():n+="S"+(e[l]+1).toString()+" + ";return n+=") * "+a,0!=t&&1!=t&&(n+="/"+t),n}function Q(e,t,a,n,l){for(var i=[],r=function(e,t){for(var a=new Array(t),n=0;n<t;n++){a[n]=new Array(t);for(var l=0;l<t;l++)a[n][l]=[]}var i,r=Object(c.a)(e.getIds());try{for(r.s();!(i=r.n()).done;){var s=i.value,o=e.get(s);console.log("agregando edge de ",o.from-1," a ",o.to-1),a[o.from-1][o.to-1].push({latencia:o.latencia,offset:o.offset})}}catch(d){r.e(d)}finally{r.f()}return a}(e,t.getIds().length),s=0;s<a.length;s++){var o=[],d=[];$(r,a[s],0,0,o,d,[]);for(var m=0;m<o.length;m++){var p=H(a[s],n,o[m],l);i.push({camino:K(a[s],o[m],l),latencias:p.path,total:Math.floor(100*p.total)/100,caminoOffsets:JSON.parse(JSON.stringify(d[m])),ciclo:a[s],offset:o[m],tiempo:p.tiempoViejo})}}return i}var Y=a(385),ee=a(392),te=Object(x.a)((function(e){return{paper:{padding:"7px",marginBottom:"4px"},formControl:{margin:e.spacing(1),minWidth:"70%"},button:{margin:e.spacing(1,0,0,0)}}})),ae=function(e){for(var t=[],a=e?77:90,n=e?65:78;n<=a;n++)t.push(String.fromCharCode(n));return t},ne=function(e,t){return"variable"===e&&("arreglo"==t||"variable"==t||"constante"==t)||"arreglo"===e&&("arreglo"==t||"variable"==t||"constante"==t)||"constante"===e&&("arreglo"==t||"variable"==t||"constante"==t)||"operacion"===e&&"operacion"==t||"operacion"===e&&0===t},le=function(e){var t=te(),a=l.a.useState(""),n=Object(f.a)(a,2),i=n[0],r=n[1],s=function(t){r(i+t+" "),e.parentCallback(i+t+" ")},o=l.a.useState("constante"),c=Object(f.a)(o,2),d=c[0],m=c[1],p=l.a.useState("variable"),u=Object(f.a)(p,2),g=u[0],h=u[1],b=l.a.useState("A"),E=Object(f.a)(b,2),y=E[0],S=E[1],x=function(e){S(e.target.value)},C=l.a.useState("N"),I=Object(f.a)(C,2),L=I[0],F=I[1],P=function(e){F(e.target.value)},V=l.a.useState("+"),R=Object(f.a)(V,2),_=R[0],D=R[1],J=l.a.useState(0),U=Object(f.a)(J,2),M=U[0],q=U[1],X=l.a.useState(0),Z=Object(f.a)(X,2),$=Z[0],H=Z[1],K=l.a.useState(0),Q=Object(f.a)(K,2),Y=Q[0],ee=Q[1],le=l.a.useState("="),ie=Object(f.a)(le,2),re=ie[0],se=ie[1],oe=l.a.useState({id_var:"0",offset:0}),ce=Object(f.a)(oe,2),de=ce[0],me=ce[1],pe=l.a.useState(null),ue=Object(f.a)(pe,2),ge=ue[0],he=ue[1];return l.a.useEffect((function(){e.callBackUpdateTempSentence(ge,de,re)}),[de,re]),l.a.useEffect((function(){e.callBackUpdateTempSentenceRead(ge)}),[ge]),l.a.createElement(A.a,{className:t.paper,elevation:3,height:"100%"},l.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Asignacion"),l.a.createElement(N.a,{style:{display:e.formVisibility?"none":"block"},component:"fieldset",className:t.formControl},l.a.createElement(T.a,{component:"legend"},"Seleccione elemento a agregar"),l.a.createElement(z.a,{"aria-label":"quiz",name:"quiz",value:g,onChange:function(e){h(e.target.value)}},l.a.createElement(G.a,{value:"variable",control:l.a.createElement(B.a,null),label:"Variable"}),l.a.createElement(G.a,{value:"arreglo",control:l.a.createElement(B.a,null),label:"Arreglo"})),l.a.createElement(A.a,{width:1,maxWidth:"xl",className:t.paper,style:{display:"variable"===g?"block":"none"},elevation:3},l.a.createElement(N.a,{style:{minWidth:"100%"}},l.a.createElement(O.a,{id:"label"},"Nombre"),l.a.createElement(j.a,{labelId:"label",id:"select",value:y,onChange:x},ae(!0).map((function(e){return l.a.createElement(w.a,{value:e},e)}))))),l.a.createElement(A.a,{width:1,className:t.paper,style:{display:"arreglo"===g?"block":"none"},elevation:3},l.a.createElement(N.a,{style:{minWidth:"30%"}},l.a.createElement(O.a,{id:"label"},"Nombre"),l.a.createElement(j.a,{labelId:"label",id:"select",value:L,onChange:P},ae(!1).map((function(e){return l.a.createElement(w.a,{value:e},e)})))),l.a.createElement(W.a,{style:{maxWidth:"70%"},id:"standard-number",label:"Modificador",type:"number",value:M,onChange:function(e){q(e.target.value)},InputLabelProps:{shrink:!0}})),l.a.createElement(v.a,{fullWidth:!0,type:"submit",width:"100%",onClick:function(){var t;ee(0),se("="),"arreglo"===g?(!function(t){var a=M>0?"i + "+M.toString():"i "+M.toString();0!==M&&"0"!==M?(r(t.concat("["+a+"] = ")),e.parentCallback(t.concat("["+a+"] = "))):(r(t.concat("[i] = ")),e.parentCallback(t.concat("[i] = ")))}(L),me({id_var:L,offset:M})):(r((t=y).concat(" = ")),e.parentCallback(t.concat(" = ")),me({id_var:y,offset:0})),e.formVisibilityCallBack(!0)},variant:"outlined",color:"primary",className:t.button},"Agregar Asignacion")),l.a.createElement(N.a,{style:{display:e.formVisibility?"block":"none"},component:"fieldset",className:t.formControl},l.a.createElement(T.a,{component:"legend"},"Seleccione elemento a agregar"),l.a.createElement(z.a,{"aria-label":"quiz",name:"quiz",value:d,onChange:function(e){m(e.target.value)}},l.a.createElement(G.a,{value:"constante",control:l.a.createElement(B.a,null),label:"Constante"}),l.a.createElement(G.a,{value:"variable",control:l.a.createElement(B.a,null),label:"Variable"}),l.a.createElement(G.a,{value:"arreglo",control:l.a.createElement(B.a,null),label:"Arreglo"}),l.a.createElement(G.a,{value:"operacion",control:l.a.createElement(B.a,null),label:"Operacion"})),l.a.createElement(A.a,{width:"auto",className:t.paper,style:{display:"constante"===d?"block":"none"},elevation:3},l.a.createElement(W.a,{value:$,onChange:function(e){H(e.target.value)},style:{minWidth:"100%"},id:"standard-number",label:"Number",type:"number",InputLabelProps:{shrink:!0}})),l.a.createElement(A.a,{width:1,maxWidth:"xl",className:t.paper,style:{display:"variable"===d?"block":"none"},elevation:3},l.a.createElement(N.a,{style:{minWidth:"100%"}},l.a.createElement(O.a,{id:"label"},"Nombre"),l.a.createElement(j.a,{labelId:"label",id:"select",value:y,onChange:x},ae(!0).map((function(e){return l.a.createElement(w.a,{value:e},e)}))))),l.a.createElement(A.a,{width:1,className:t.paper,style:{display:"arreglo"===d?"block":"none"},elevation:3},l.a.createElement(N.a,{style:{minWidth:"30%"}},l.a.createElement(O.a,{id:"label"},"Nombre"),l.a.createElement(j.a,{labelId:"label",id:"select",value:L,onChange:P},ae(!1).map((function(e){return l.a.createElement(w.a,{value:e},e)})))),l.a.createElement(W.a,{value:M,onChange:function(e){q(e.target.value)},style:{maxWidth:"70%"},id:"standard-number",label:"Modificador",type:"number",InputLabelProps:{shrink:!0}})),l.a.createElement(A.a,{width:1,className:t.paper,style:{display:"operacion"===d?"block":"none"},elevation:3},l.a.createElement(N.a,{style:{minWidth:"100%"}},l.a.createElement(O.a,{id:"label"},"Nombre"),l.a.createElement(j.a,{labelId:"label",id:"select",value:_,onChange:function(e){D(e.target.value)}},l.a.createElement(w.a,{value:"+"},"+"),l.a.createElement(w.a,{value:"-"},"-"),l.a.createElement(w.a,{value:"*"},"*"),l.a.createElement(w.a,{value:"/"},"/")))),l.a.createElement(v.a,{fullWidth:!0,type:"submit",disabled:ne(d,Y),variant:"outlined",onClick:function(){if(ee(d),"variable"===d)s(y),he({id_var:y,offset:0});else if("constante"===d)s($);else if("arreglo"===d){var e=M>0?"i + "+M.toString():"i "+M.toString();s(0!==M&&"0"!==M?L+"["+e+"]":L+"[i]"),he({id_var:L,offset:M})}else s(_),se(re+_)},color:"primary",className:t.button},"Agregar Operacion")))};var ie=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={valorAsignacion:"",asignaciones:[],formVisibilityControl:!1,sentenciaActual:1,sentencias:[],sentenciaTemporal:{id:0,latencia:" ",written:null,read:[]},latencias:{asignacion:1,suma:2,resta:3,multiplicacion:4,division:5},read:[],written:null,dependancesGraphNodes:null,dependancesGraphEdges:null,dependancesAlgorithm:{graphAlgorithm:[],variablesLeidas:[]},spaceGraphNodes:null,spaceGraphEdges:null,n:1e3,checked:!1,checkedSecond:!1,showPreview:!0,cycles:[],changeTrazaState:0,trazas:[{tiempo:0,total:1}],noTrazas:!1,aceleracion:{tiempoViejo:0,tiempoNuevo:1}},e.callBackSetRead=function(t){e.setState({read:e.state.read.concat(Object.assign({},t))},(function(){}))},e.callBackSetWritten=function(t){e.setState({written:t})},e.callBackFormVisibilityControl=function(t){e.setState({formVisibilityControl:t})},e.callBackValorAsignacionChange=function(t){e.setState({valorAsignacion:t,showPreview:!0})},e.callBackUpdatePreview=function(t){e.setState({valorAsignacion:e.state.valorAsignacion.concat(" "+t+" ")})},e.callBackUpdateSentencesTemp=function(t,a,n){e.setState({sentenciaTemporal:{id:e.state.sentenciaActual,latencia:n,latenciaString:n,written:Object.assign({},a)}})},e.callBackUpdateSentencesRead=function(t){e.setState({sentenciaTemporal:{read:e.state.read.concat(Object.assign({},t))}})},e.callBackAddSentence=function(){e.state.sentenciaTemporal.read=e.state.read,e.setState({asignaciones:e.state.asignaciones.concat({sentence:e.state.valorAsignacion,op:e.state.sentenciaActual}),sentenciaActual:e.state.sentenciaActual+1,sentencias:[].concat(Object(d.a)(e.state.sentencias),[e.state.sentenciaTemporal]),formVisibilityControl:!1,valorAsignacion:"",read:[]},(function(){e.setState({sentenciaTemporal:null})}))},e.classes={paper:{padding:"7px",marginBottom:"4px"},formControl:{margin:"8px",minWidth:"70%"},button:{margin:"8px 8px 0px 0px"}},e.showLatencies=function(){e.state.checked?e.setState({checked:!1}):e.setState({checked:!0})},e.download=function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},e.exportar=function(){var t={asignaciones:e.state.asignaciones,sentencias:e.state.sentencias};t=JSON.stringify(t),e.download("traza"+Date.now()+".txt",t)},e.importar=function(t){var a=t.target.files[0],n=Object(u.a)(e);if(a.type.match(/text.*/)){var l=new FileReader;l.onload=function(e){var t=JSON.parse(l.result);n.setState({asignaciones:t.asignaciones,sentencias:t.sentencias,sentenciaActual:t.asignaciones.length+1},(function(){}))},l.readAsText(a)}else alert("File not supported!")},e.handleChangeOnTrazaRadio=function(t){var a=e.state.changeTrazaState,n=t.target.value,l=[],i=[];e.state.trazas[a].nodes.forEach((function(e){e.forEach((function(e){e.group="a"})),l=[].concat(Object(d.a)(l),Object(d.a)(e))})),e.state.spaceGraphNodes.update(l);var r="b";e.state.trazas[n].nodes.forEach((function(e){e.forEach((function(e){e.group=r})),r=r.concat("b"),i=[].concat(Object(d.a)(i),Object(d.a)(e))})),e.state.spaceGraphNodes.update(i),e.setState({changeTrazaState:t.target.value})},e}return Object(p.a)(a,[{key:"getNodesDependancesGraph",value:function(e){this.setState({dependancesGraphNodes:e})}},{key:"getEdgesDependancesGraph",value:function(e){this.setState({dependancesGraphEdges:e})}},{key:"getNodesSpaceGraph",value:function(e){this.setState({spaceGraphNodes:e})}},{key:"getEdgesSpaceGraph",value:function(e){this.setState({spaceGraphEdges:e})}},{key:"getLatency",value:function(e){var t,a=0,n=Object(c.a)(e.latenciaString);try{for(n.s();!(t=n.n()).done;){var l=t.value;switch(l){case"=":l=this.state.latencias.asignacion;break;case"+":l=this.state.latencias.suma;break;case"-":l=this.state.latencias.resta;break;case"*":l=this.state.latencias.multiplicacion;break;case"/":l=this.state.latencias.division;break;default:l=0}a+=l}}catch(i){n.e(i)}finally{n.f()}e.latencia=a}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null),l.a.createElement("div",{className:"App"},l.a.createElement(b.a,{position:"relative"},l.a.createElement(S.a,null,l.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},"Trazas"))),l.a.createElement("main",null,l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(y.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:3},l.a.createElement(y.a,{item:!0,xs:3,height:"100%"},l.a.createElement(le,{formVisibility:this.state.formVisibilityControl,formVisibilityCallBack:this.callBackFormVisibilityControl,parentCallback:this.callBackValorAsignacionChange.bind(this),callBackUpdateTempSentence:this.callBackUpdateSentencesTemp,callBackUpdateTempSentenceRead:this.callBackSetRead})),l.a.createElement(y.a,{item:!0,xs:5},l.a.createElement(Y.a,{in:this.state.showPreview},l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(M,{callBackAdd:this.callBackAddSentence,valor:this.state.valorAsignacion}))),l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(D.a,{component:A.a},l.a.createElement(V.a,{style:this.classes.tables,size:"small","aria-label":"a dense table"},l.a.createElement(J.a,null,l.a.createElement(U.a,null,l.a.createElement(_.a,null,l.a.createElement(W.a,{value:this.state.n,style:{maxWidth:"75px"},id:"standard-number",label:"Ciclos",type:"number",onChange:function(t){return e.setState({n:t.target.value<0?0:t.target.value})},InputLabelProps:{shrink:!0}})))),l.a.createElement(R.a,null,this.state.asignaciones.map((function(t){return l.a.createElement(U.a,{key:t.op},l.a.createElement(_.a,{component:"th",scope:"row"},"S",t.op),l.a.createElement(_.a,{align:"left"},t.sentence),l.a.createElement(_.a,{style:{padding:"0px",width:"3px"}},l.a.createElement(v.a,{variant:"outlined",onClick:function(){var t=JSON.parse(JSON.stringify(e.state.sentencias)),a=JSON.parse(JSON.stringify(e.state.asignaciones));console.log(t.pop()),console.log(a.pop()),e.setState({sentencias:t,asignaciones:a,sentenciaActual:t.length+1},(function(){console.log(e.state.sentencias)}))},style:{padding:"1px",display:e.state.asignaciones.length==t.op?"block":"none"},color:"secondary"},"X")))}))))),l.a.createElement(v.a,{fullWidth:!0,type:"submit",variant:"outlined",align:"center",color:"primary",className:this.classes.button,onClick:function(){e.state.dependancesGraphNodes.clear(),e.state.dependancesGraphEdges.clear(),e.state.sentencias.forEach((function(t){e.getLatency(t)})),function(e,t){var a=[];t.forEach((function(t){e.nodes.add({id:t.id,label:"S"+t.id}),void 0===a[t.written]&&(a[t.written]={}),void 0===a[t.written.id_var]?a[t.written.id_var]=[{sentencia:t.id,offset:t.written.offset,latencia:t.latencia}]:a[t.written.id_var].push({sentencia:t.id,offset:t.written.offset,latencia:t.latencia})})),t.forEach((function(t){t.read.forEach((function(n){void 0!==n.id_var&&void 0!==a[n.id_var]&&a[n.id_var].forEach((function(a){if(t.id<=a.sentencia){if(RegExp("[A-M]").test(n.id_var)){if(null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+"1")){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+"1",from:a.sentencia,to:t.id,offset:1,latencia:a.latencia,label:"("+a.latencia+", 1)"})}}else if(a.offset-n.offset>0&&null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString())){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString(),from:a.sentencia,to:t.id,offset:a.offset-n.offset,latencia:a.latencia,label:"("+a.latencia+", "+(a.offset-n.offset)+")",dashes:a.offset-n.offset<0})}}else if(null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString())){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString(),from:a.sentencia,to:t.id,offset:a.offset-n.offset,latencia:a.latencia,label:"("+a.latencia+", "+(a.offset-n.offset)+")",dashes:a.offset-n.offset<0})}}))}))})),console.log(e.edges)}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges},e.state.sentencias),e.setState({showPreview:!1}),e.state.spaceGraphNodes.clear(),e.state.spaceGraphEdges.clear();var t=function(e){var t,a=[],n=new Array(e.nodes.getIds().length).fill(!1),l=[],i=Object(c.a)(e.edges.getIds());try{for(i.s();!(t=i.n()).done;){var r=t.value,s=e.edges.get(r);void 0===a[s.from-1]&&(a[s.from-1]=[]),s.offset>=0&&-1===a[s.from-1].indexOf(s.to-1)&&a[s.from-1].push(s.to-1),s.from===s.to&&!1===n[s.to-1]&&(l.push([s.from-1,s.from-1]),n[s.to-1]=!0)}}catch(d){i.e(d)}finally{i.f()}var o=a.slice();return l=l.concat(Z()(o))}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges});e.setState({cycles:t},(function(){var t=Q(e.state.dependancesGraphEdges,e.state.dependancesGraphNodes,e.state.cycles,e.state.sentencias,e.state.n).sort((function(e,t){return t.total-e.total}));e.setState({trazas:e.state.cycles.length>0?t:[{tiempo:0,total:1}],checkedSecond:e.state.cycles.length>0,noTrazas:!(e.state.cycles.length>0)},(function(){!function(e,t,a){for(var n=e.nodes.getIds(),l=function(e){for(var l=function(n){var l={id:n.toString()+e.toString(),label:"S"+n.toString()+e.toString(),x:70*e,y:70*(n-1)};a.forEach((function(t){if(void 0===t.nodes){t.nodes=new Array(t.offset);for(var a=0;a<t.offset;a++)t.nodes[a]=new Array}for(var i=0;i<t.offset;i++){var r=t.ciclo.indexOf(n-1);-1!==r&&0!==r?(e-1-i-t.caminoOffsets[r-1])%t.offset===0&&t.nodes[i].push(l):-1!==r&&(e-1-i)%t.offset===0&&t.nodes[i].push(l)}})),t.nodes.add(l)},i=1;i<n.length+1;i++)l(i)},i=1;i<10;i++)l(i);console.log("Trazas = ",a),e.edges.forEach((function(e){for(var a=1;a<10;a++)e.offset<0&&a+e.offset>=0||e.offset>0&&a+e.offset<10?t.edges.add({from:e.from.toString()+a.toString(),to:e.to.toString()+(a+e.offset).toString()}):0===e.offset&&t.edges.add({from:e.from.toString()+a.toString(),to:e.to.toString()+a.toString()})}))}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges},{nodes:e.state.spaceGraphNodes,edges:e.state.spaceGraphEdges},e.state.trazas),console.log("TRAZEANAAAAS ",e.state.trazas)}))}))}},"Calcular trazas"),l.a.createElement(Y.a,{in:this.state.noTrazas},l.a.createElement("div",{style:{background:"#FF9DB7",fontWeight:"bold",color:"#C20035",paddingTop:"10px",paddingBottom:"10px",textAlign:"center",marginTop:"5px"}},"No se han encontrado trazas")))),l.a.createElement(y.a,{item:!0,xs:2},l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(n.Fragment,null,l.a.createElement("input",{accept:"text/*",id:"contained-button-file",style:{display:"none"},type:"file",onChange:function(t){e.importar(t)}}),l.a.createElement("label",{htmlFor:"contained-button-file"},l.a.createElement(v.a,{fullWidth:!0,variant:"outlined",component:"span",align:"center",color:"primary",className:this.classes.button,onClick:function(){console.log(JSON.parse(e.state.sentencias))}},"Importar"))),l.a.createElement(v.a,{fullWidth:!0,type:"submit",variant:"outlined",align:"center",color:"primary",className:this.classes.button,onClick:function(){e.exportar()}},"Exportar")),l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(G.a,{control:l.a.createElement(ee.a,{checked:this.state.checked,onChange:this.showLatencies}),label:"Latencias",width:"100%"}),l.a.createElement(Y.a,{in:this.state.checked},l.a.createElement(q,{classes:this.classes,latencias:this.state.latencias,onChangeTxtFieldLatency:function(t,a){a<0?e.setState({latencias:Object(o.a)({},e.state.latencias,Object(s.a)({},t,0))}):a>10?e.setState({latencias:Object(o.a)({},e.state.latencias,Object(s.a)({},t,10))}):e.setState({latencias:Object(o.a)({},e.state.latencias,Object(s.a)({},t,parseInt(a)))})}}))))),l.a.createElement(Y.a,{in:this.state.checkedSecond},l.a.createElement(y.a,{containter:!0,container:!0,justify:"center",alignItems:"flex-start",spacing:3,style:{marginTop:"10px"}},l.a.createElement(y.a,{item:!0,xs:6},l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Trazas"),l.a.createElement(z.a,{onChange:this.handleChangeOnTrazaRadio},l.a.createElement(V.a,{"aria-label":"simple table"},l.a.createElement(J.a,null,l.a.createElement(U.a,null,l.a.createElement(_.a,null,l.a.createElement("b",null,"Aceleracion")),l.a.createElement(_.a,null,l.a.createElement("b",null,"Resultado")))),l.a.createElement(R.a,null,l.a.createElement(U.a,null,l.a.createElement(_.a,{component:"th",scope:"row"},"(",this.state.trazas[0].tiempo,"*",this.state.n,")/",this.state.trazas[0].total),l.a.createElement(_.a,{component:"th",scope:"row"},this.state.trazas[0].tiempo*this.state.n/this.state.trazas[0].total)))),l.a.createElement(V.a,{"aria-label":"simple table"},l.a.createElement(J.a,null,l.a.createElement(U.a,null,l.a.createElement(_.a,null,l.a.createElement("b",null,"Camino")),l.a.createElement(_.a,{align:"right"},l.a.createElement("b",null,"Suma")),l.a.createElement(_.a,{align:"right"},l.a.createElement("b",null,"Total")),l.a.createElement(_.a,{align:"right"},l.a.createElement("b",null,"Ver")))),l.a.createElement(R.a,null,this.state.trazas.map((function(t,a){return l.a.createElement(U.a,{style:{background:0===a?"#FFD2DE":"#FFF"},key:a},l.a.createElement(_.a,{component:"th",scope:"row"},t.camino),l.a.createElement(_.a,{align:"right"},t.latencias),l.a.createElement(_.a,{align:"right"},t.total),l.a.createElement(_.a,{align:"right"},l.a.createElement(B.a,{value:a,inputProps:{"aria-label":"B"},checked:a==e.state.changeTrazaState})))}))))))),l.a.createElement(y.a,{item:!0,xs:4},l.a.createElement(A.a,{style:this.classes.paper,elevation:3},l.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Grafo de dependencias"),l.a.createElement(F,{graph:{nodes:[],edges:[]},getNodes:this.getNodesDependancesGraph.bind(this),getEdges:this.getEdgesDependancesGraph.bind(this)})))),l.a.createElement(y.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:3},l.a.createElement(y.a,{item:!0,xs:10},l.a.createElement(A.a,{style:this.classes.paper,height:"100%",elevation:3},l.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Grafo espacial"),l.a.createElement(P,{graph:{nodes:[],edges:[]},getNodes:this.getNodesSpaceGraph.bind(this),getEdges:this.getEdgesSpaceGraph.bind(this)}))))),l.a.createElement("center",null,l.a.createElement("p",{style:{color:"#A0A0A0"}},"Martin Lorenzo y Valentin Fernandez - Abril 2020"))))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[181,1,2]]]);
//# sourceMappingURL=main.ecbffd91.chunk.js.map