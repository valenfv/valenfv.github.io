(this.webpackJsonptraza=this.webpackJsonptraza||[]).push([[0],{120:function(e,t,a){},181:function(e,t,a){e.exports=a(321)},321:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(10),s=a.n(l),r=(a(120),a(45)),o=a(89),c=a(57),d=a(50),p=a(19),m=a(20),u=a(41),g=a(21),f=a(23),h=a(18),v=a(382),b=a(377),E=a(381),y=a(378),S=a(383),k=a(324),x=a(379),C=a(384),O=a(376),N=a(395),w=a(370),j=a(393),A=a(323),T=a(322),G=a(397),B=a(380),z=a(394),W=a(398),I=a(81),L=a.n(I),P=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return i.a.createElement(L.a,{options:{height:"250px",edges:{smooth:!0}},graph:this.props.graph,getNodes:this.props.getNodes,getEdges:this.props.getEdges})}}]),a}(n.Component),F=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).options={layout:{},height:"500px",groups:{useDefaultGroups:!0},physics:{enabled:!1},interaction:{dragNodes:!1,dragView:!0,hover:!1,hoverConnectedEdges:!0,multiselect:!0,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,tooltipDelay:300,zoomView:!0}},e.events={selectNode:function(e){var t,a=[],n=this.body.nodes[e.nodes[0]].options.group;for(t in this.body.nodes)this.body.nodes[t].options.group===n&&a.push(t);this.selectNodes(a,!0)}},e}return Object(m.a)(a,[{key:"render",value:function(){return i.a.createElement(L.a,{key:"Graph",graph:this.props.graph,getNodes:this.props.getNodes,getEdges:this.props.getEdges,events:this.events,options:this.options})}}]),a}(n.Component),V=a(387),R=a(391),_=a(390),D=a(386),J=a(388),U=a(389),M=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={valor:e.props.valor},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement(w.a,{style:{minWidth:"100%"}},i.a.createElement(W.a,{disabled:!0,label:"Preview",variant:"outlined",name:"pepe",type:"text",key:"333",value:this.props.valor,onChange:function(t){e.setState({valor:t.target.value})}}),i.a.createElement(b.a,{type:"submit",onClick:function(t){e.props.callBackAdd()},variant:"outlined",color:"primary",minWidth:"100%"},"Agregar sentencia"))}}]),a}(n.Component),q=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onChangeTxtFieldLatency=n.onChangeTxtFieldLatency.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"onChangeTxtFieldLatency",value:function(e){this.props.onChangeTxtFieldLatency(e.target.id,e.target.value)}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(w.a,{component:"fieldset",style:e.formControl},i.a.createElement(T.a,{component:"legend"},"Seleccione la latencia de las operaciones "),i.a.createElement("br",null),i.a.createElement(y.a,{container:!0,direction:"column"},i.a.createElement(y.a,{item:!0,xs:!0},i.a.createElement(W.a,{style:{maxWidth:"100%"},id:"asignacion",label:"Asignacion",value:this.props.latencias.asignacion,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),i.a.createElement(y.a,{item:!0,xs:!0},i.a.createElement(W.a,{style:{maxWidth:"100%"},id:"resta",label:"Resta",value:this.props.latencias.resta,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),i.a.createElement(y.a,{item:!0,xs:!0},i.a.createElement(W.a,{style:{maxWidth:"100%"},id:"multiplicacion",label:"Multiplicacion",value:this.props.latencias.multiplicacion,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),i.a.createElement(y.a,{item:!0,xs:!0},i.a.createElement(W.a,{style:{maxWidth:"100%"},id:"division",label:"Division",value:this.props.latencias.division,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}})),i.a.createElement(y.a,{item:!0,xs:!0},i.a.createElement(W.a,{style:{maxWidth:"100%"},id:"suma",label:"Suma",value:this.props.latencias.suma,onChange:this.onChangeTxtFieldLatency,type:"number",inputProps:{min:"0",max:"10",step:"1"},InputLabelProps:{shrink:!0}}))))}}]),a}(n.Component),X=a(171),Z=a.n(X);function $(e,t,a,n,i,l,s){if(a===t.length-1)i.push(n),l.push([].concat(s));else for(var r=e[t[a]][t[a+1]],o=0;o<r.length;o++){var c=void 0===s[s.length-1]?r[o].offset:s[s.length-1]+r[o].offset;s.push(c),$(e,t,a+1,n+r[o].offset,i,l,s),s.pop()}}function H(e,t,a,n){for(var i="",l=0,s=0;s<e.length-1;s++)s==e.length-2?i+=t[e[s]].latencia.toString():i+=t[e[s]].latencia.toString()+" + ",l+=t[e[s]].latencia;return{path:i,total:l*=0!=a&&1!=a?n/a:n}}function K(e,t,a){for(var n="(",i=0;i<e.length-1;i++)i==e.length-2?n+="S"+(e[i]+1).toString():n+="S"+(e[i]+1).toString()+" + ";return n+=") * "+a,0!=t&&1!=t&&(n+="/"+t),n}function Q(e,t,a,n,i){for(var l=[],s=function(e,t){for(var a=new Array(t),n=0;n<t;n++){a[n]=new Array(t);for(var i=0;i<t;i++)a[n][i]=[]}var l,s=Object(c.a)(e.getIds());try{for(s.s();!(l=s.n()).done;){var r=l.value,o=e.get(r);console.log("agregando edge de ",o.from-1," a ",o.to-1),a[o.from-1][o.to-1].push({latencia:o.latencia,offset:o.offset})}}catch(d){s.e(d)}finally{s.f()}return a}(e,t.getIds().length),r=0;r<a.length;r++){var o=[],d=[];$(s,a[r],0,0,o,d,[]);for(var p=0;p<o.length;p++){var m=H(a[r],n,o[p],i);l.push({camino:K(a[r],o[p],i),latencias:m.path,total:Math.floor(100*m.total)/100,caminoOffsets:JSON.parse(JSON.stringify(d[p])),ciclo:a[r],offset:o[p]})}}return l}var Y=a(385),ee=a(392),te=Object(x.a)((function(e){return{paper:{padding:"7px",marginBottom:"4px"},formControl:{margin:e.spacing(1),minWidth:"70%"},button:{margin:e.spacing(1,0,0,0)}}})),ae=function(e){for(var t=[],a=e?77:90,n=e?65:78;n<=a;n++)t.push(String.fromCharCode(n));return t},ne=function(e){var t=te(),a=i.a.useState(""),n=Object(h.a)(a,2),l=n[0],s=n[1],r=function(t){s(l+t+" "),e.parentCallback(l+t+" ")},o=i.a.useState("constante"),c=Object(h.a)(o,2),d=c[0],p=c[1],m=i.a.useState("variable"),u=Object(h.a)(m,2),g=u[0],f=u[1],v=i.a.useState("A"),E=Object(h.a)(v,2),y=E[0],S=E[1],x=function(e){S(e.target.value)},C=i.a.useState("N"),I=Object(h.a)(C,2),L=I[0],P=I[1],F=function(e){P(e.target.value)},V=i.a.useState("+"),R=Object(h.a)(V,2),_=R[0],D=R[1],J=i.a.useState(0),U=Object(h.a)(J,2),M=U[0],q=U[1],X=i.a.useState(0),Z=Object(h.a)(X,2),$=Z[0],H=Z[1],K=i.a.useState("="),Q=Object(h.a)(K,2),Y=Q[0],ee=Q[1],ne=i.a.useState({id_var:"0",offset:0}),ie=Object(h.a)(ne,2),le=ie[0],se=ie[1],re=i.a.useState(null),oe=Object(h.a)(re,2),ce=oe[0],de=oe[1];return i.a.useEffect((function(){e.callBackUpdateTempSentence(ce,le,Y)}),[le,Y]),i.a.useEffect((function(){e.callBackUpdateTempSentenceRead(ce)}),[ce]),i.a.createElement(A.a,{className:t.paper,elevation:3,height:"100%"},i.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Asignacion"),i.a.createElement(w.a,{style:{display:e.formVisibility?"none":"block"},component:"fieldset",className:t.formControl},i.a.createElement(T.a,{component:"legend"},"Seleccione elemento a agregar"),i.a.createElement(G.a,{"aria-label":"quiz",name:"quiz",value:g,onChange:function(e){f(e.target.value)}},i.a.createElement(B.a,{value:"variable",control:i.a.createElement(z.a,null),label:"Variable"}),i.a.createElement(B.a,{value:"arreglo",control:i.a.createElement(z.a,null),label:"Arreglo"})),i.a.createElement(A.a,{width:1,maxWidth:"xl",className:t.paper,style:{display:"variable"===g?"block":"none"},elevation:3},i.a.createElement(w.a,{style:{minWidth:"100%"}},i.a.createElement(O.a,{id:"label"},"Nombre"),i.a.createElement(j.a,{labelId:"label",id:"select",value:y,onChange:x},ae(!0).map((function(e){return i.a.createElement(N.a,{value:e},e)}))))),i.a.createElement(A.a,{width:1,className:t.paper,style:{display:"arreglo"===g?"block":"none"},elevation:3},i.a.createElement(w.a,{style:{minWidth:"30%"}},i.a.createElement(O.a,{id:"label"},"Nombre"),i.a.createElement(j.a,{labelId:"label",id:"select",value:L,onChange:F},ae(!1).map((function(e){return i.a.createElement(N.a,{value:e},e)})))),i.a.createElement(W.a,{style:{maxWidth:"70%"},id:"standard-number",label:"Modificador",type:"number",value:M,onChange:function(e){q(e.target.value)},InputLabelProps:{shrink:!0}})),i.a.createElement(b.a,{fullWidth:!0,type:"submit",width:"100%",onClick:function(){var t;ee("="),"arreglo"===g?(!function(t){var a=M>0?"i + "+M.toString():"i "+M.toString();0!==M&&"0"!==M?(s(t.concat("["+a+"] = ")),e.parentCallback(t.concat("["+a+"] = "))):(s(t.concat("[i] = ")),e.parentCallback(t.concat("[i] = ")))}(L),se({id_var:L,offset:M})):(s((t=y).concat(" = ")),e.parentCallback(t.concat(" = ")),se({id_var:y,offset:0})),e.formVisibilityCallBack(!0)},variant:"outlined",color:"primary",className:t.button},"Agregar Asignacion")),i.a.createElement(w.a,{style:{display:e.formVisibility?"block":"none"},component:"fieldset",className:t.formControl},i.a.createElement(T.a,{component:"legend"},"Seleccione elemento a agregar"),i.a.createElement(G.a,{"aria-label":"quiz",name:"quiz",value:d,onChange:function(e){p(e.target.value)}},i.a.createElement(B.a,{value:"constante",control:i.a.createElement(z.a,null),label:"Constante"}),i.a.createElement(B.a,{value:"variable",control:i.a.createElement(z.a,null),label:"Variable"}),i.a.createElement(B.a,{value:"arreglo",control:i.a.createElement(z.a,null),label:"Arreglo"}),i.a.createElement(B.a,{value:"operacion",control:i.a.createElement(z.a,null),label:"Operacion"})),i.a.createElement(A.a,{width:"auto",className:t.paper,style:{display:"constante"===d?"block":"none"},elevation:3},i.a.createElement(W.a,{value:$,onChange:function(e){H(e.target.value)},style:{minWidth:"100%"},id:"standard-number",label:"Number",type:"number",InputLabelProps:{shrink:!0}})),i.a.createElement(A.a,{width:1,maxWidth:"xl",className:t.paper,style:{display:"variable"===d?"block":"none"},elevation:3},i.a.createElement(w.a,{style:{minWidth:"100%"}},i.a.createElement(O.a,{id:"label"},"Nombre"),i.a.createElement(j.a,{labelId:"label",id:"select",value:y,onChange:x},ae(!0).map((function(e){return i.a.createElement(N.a,{value:e},e)}))))),i.a.createElement(A.a,{width:1,className:t.paper,style:{display:"arreglo"===d?"block":"none"},elevation:3},i.a.createElement(w.a,{style:{minWidth:"30%"}},i.a.createElement(O.a,{id:"label"},"Nombre"),i.a.createElement(j.a,{labelId:"label",id:"select",value:L,onChange:F},ae(!1).map((function(e){return i.a.createElement(N.a,{value:e},e)})))),i.a.createElement(W.a,{value:M,onChange:function(e){q(e.target.value)},style:{maxWidth:"70%"},id:"standard-number",label:"Modificador",type:"number",InputLabelProps:{shrink:!0}})),i.a.createElement(A.a,{width:1,className:t.paper,style:{display:"operacion"===d?"block":"none"},elevation:3},i.a.createElement(w.a,{style:{minWidth:"100%"}},i.a.createElement(O.a,{id:"label"},"Nombre"),i.a.createElement(j.a,{labelId:"label",id:"select",value:_,onChange:function(e){D(e.target.value)}},i.a.createElement(N.a,{value:"+"},"+"),i.a.createElement(N.a,{value:"-"},"-"),i.a.createElement(N.a,{value:"*"},"*"),i.a.createElement(N.a,{value:"/"},"/")))),i.a.createElement(b.a,{fullWidth:!0,type:"submit",variant:"outlined",onClick:function(){if("variable"===d)r(y),de({id_var:y,offset:0});else if("constante"===d)r($);else if("arreglo"===d){var e=M>0?"i + "+M.toString():"i "+M.toString();r(0!==M&&"0"!==M?L+"["+e+"]":L+"[i]"),de({id_var:L,offset:M})}else r(_),ee(Y+_)},color:"primary",className:t.button},"Agregar Operacion")))};var ie=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={valorAsignacion:"",asignaciones:[],formVisibilityControl:!1,sentenciaActual:1,sentencias:[],sentenciaTemporal:{id:0,latencia:" ",written:null,read:[]},latencias:{asignacion:1,suma:2,resta:3,multiplicacion:4,division:5},read:[],written:null,dependancesGraphNodes:null,dependancesGraphEdges:null,dependancesAlgorithm:{graphAlgorithm:[],variablesLeidas:[]},spaceGraphNodes:null,spaceGraphEdges:null,n:1e3,checked:!1,checkedSecond:!1,showPreview:!0,cycles:[],changeTrazaState:0,trazas:[],noTrazas:!1},e.callBackSetRead=function(t){e.setState({read:e.state.read.concat(Object.assign({},t))},(function(){}))},e.callBackSetWritten=function(t){e.setState({written:t})},e.callBackFormVisibilityControl=function(t){e.setState({formVisibilityControl:t})},e.callBackValorAsignacionChange=function(t){e.setState({valorAsignacion:t,showPreview:!0})},e.callBackUpdatePreview=function(t){e.setState({valorAsignacion:e.state.valorAsignacion.concat(" "+t+" ")})},e.callBackUpdateSentencesTemp=function(t,a,n){e.setState({sentenciaTemporal:{id:e.state.sentenciaActual,latencia:n,latenciaString:n,written:Object.assign({},a)}})},e.callBackUpdateSentencesRead=function(t){e.setState({sentenciaTemporal:{read:e.state.read.concat(Object.assign({},t))}})},e.callBackAddSentence=function(){e.state.sentenciaTemporal.read=e.state.read,e.setState({asignaciones:e.state.asignaciones.concat({sentence:e.state.valorAsignacion,op:e.state.sentenciaActual}),sentenciaActual:e.state.sentenciaActual+1,sentencias:[].concat(Object(d.a)(e.state.sentencias),[e.state.sentenciaTemporal]),formVisibilityControl:!1,valorAsignacion:"",read:[]},(function(){e.setState({sentenciaTemporal:null})}))},e.classes={paper:{padding:"7px",marginBottom:"4px"},formControl:{margin:"8px",minWidth:"70%"},button:{margin:"8px 8px 0px 0px"}},e.showLatencies=function(){e.state.checked?e.setState({checked:!1}):e.setState({checked:!0})},e.download=function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},e.exportar=function(){var t={asignaciones:e.state.asignaciones,sentencias:e.state.sentencias};t=JSON.stringify(t),e.download("traza"+Date.now()+".txt",t)},e.importar=function(t){var a=t.target.files[0],n=Object(u.a)(e);if(a.type.match(/text.*/)){var i=new FileReader;i.onload=function(e){var t=JSON.parse(i.result);n.setState({asignaciones:t.asignaciones,sentencias:t.sentencias,sentenciaActual:t.asignaciones.length+1},(function(){}))},i.readAsText(a)}else alert("File not supported!")},e.handleChangeOnTrazaRadio=function(t){var a=e.state.changeTrazaState,n=t.target.value,i=[],l=[];e.state.trazas[a].nodes.forEach((function(e){e.forEach((function(e){e.group="a"})),i=[].concat(Object(d.a)(i),Object(d.a)(e))})),e.state.spaceGraphNodes.update(i);var s="b";e.state.trazas[n].nodes.forEach((function(e){e.forEach((function(e){e.group=s})),s=s.concat("b"),l=[].concat(Object(d.a)(l),Object(d.a)(e))})),e.state.spaceGraphNodes.update(l),e.setState({changeTrazaState:t.target.value})},e}return Object(m.a)(a,[{key:"getNodesDependancesGraph",value:function(e){this.setState({dependancesGraphNodes:e})}},{key:"getEdgesDependancesGraph",value:function(e){this.setState({dependancesGraphEdges:e})}},{key:"getNodesSpaceGraph",value:function(e){this.setState({spaceGraphNodes:e})}},{key:"getEdgesSpaceGraph",value:function(e){this.setState({spaceGraphEdges:e})}},{key:"getLatency",value:function(e){var t,a=0,n=Object(c.a)(e.latenciaString);try{for(n.s();!(t=n.n()).done;){var i=t.value;switch(i){case"=":i=this.state.latencias.asignacion;break;case"+":i=this.state.latencias.suma;break;case"-":i=this.state.latencias.resta;break;case"*":i=this.state.latencias.multiplicacion;break;case"/":i=this.state.latencias.division;break;default:i=0}a+=i}}catch(l){n.e(l)}finally{n.f()}e.latencia=a}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(E.a,null),i.a.createElement("div",{className:"App"},i.a.createElement(v.a,{position:"relative"},i.a.createElement(S.a,null,i.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},"Trazas"))),i.a.createElement("main",null,i.a.createElement("br",null),i.a.createElement(C.a,null,i.a.createElement(y.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:3},i.a.createElement(y.a,{item:!0,xs:3,height:"100%"},i.a.createElement(ne,{formVisibility:this.state.formVisibilityControl,formVisibilityCallBack:this.callBackFormVisibilityControl,parentCallback:this.callBackValorAsignacionChange.bind(this),callBackUpdateTempSentence:this.callBackUpdateSentencesTemp,callBackUpdateTempSentenceRead:this.callBackSetRead})),i.a.createElement(y.a,{item:!0,xs:5},i.a.createElement(Y.a,{in:this.state.showPreview},i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(M,{callBackAdd:this.callBackAddSentence,valor:this.state.valorAsignacion}))),i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(D.a,{component:A.a},i.a.createElement(V.a,{style:this.classes.tables,size:"small","aria-label":"a dense table"},i.a.createElement(J.a,null,i.a.createElement(U.a,null,i.a.createElement(_.a,null,i.a.createElement(W.a,{value:this.state.n,style:{maxWidth:"75px"},id:"standard-number",label:"Ciclos",type:"number",onChange:function(t){return e.setState({n:t.target.value<0?0:t.target.value})},InputLabelProps:{shrink:!0}})))),i.a.createElement(R.a,null,this.state.asignaciones.map((function(t){return i.a.createElement(U.a,{key:t.op},i.a.createElement(_.a,{component:"th",scope:"row"},"S",t.op),i.a.createElement(_.a,{align:"left"},t.sentence),i.a.createElement(_.a,{style:{padding:"0px",width:"3px"}},i.a.createElement(b.a,{variant:"outlined",onClick:function(){var t=JSON.parse(JSON.stringify(e.state.sentencias)),a=JSON.parse(JSON.stringify(e.state.asignaciones));console.log(t.pop()),console.log(a.pop()),e.setState({sentencias:t,asignaciones:a,sentenciaActual:t.length+1},(function(){console.log(e.state.sentencias)}))},style:{padding:"1px",display:e.state.asignaciones.length==t.op?"block":"none"},color:"secondary"},"X")))}))))),i.a.createElement(b.a,{fullWidth:!0,type:"submit",variant:"outlined",align:"center",color:"primary",className:this.classes.button,onClick:function(){e.state.dependancesGraphNodes.clear(),e.state.dependancesGraphEdges.clear(),e.state.sentencias.forEach((function(t){e.getLatency(t)})),function(e,t){var a=[];t.forEach((function(t){e.nodes.add({id:t.id,label:"S"+t.id}),void 0===a[t.written]&&(a[t.written]={}),void 0===a[t.written.id_var]?a[t.written.id_var]=[{sentencia:t.id,offset:t.written.offset,latencia:t.latencia}]:a[t.written.id_var].push({sentencia:t.id,offset:t.written.offset,latencia:t.latencia})})),t.forEach((function(t){t.read.forEach((function(n){void 0!==n.id_var&&void 0!==a[n.id_var]&&a[n.id_var].forEach((function(a){if(t.id<=a.sentencia){if(RegExp("[A-M]").test(n.id_var)){if(null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+"1")){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+"1",from:a.sentencia,to:t.id,offset:1,latencia:a.latencia,label:"("+a.latencia+", 1)"})}}else if(a.offset-n.offset>0&&null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString())){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString(),from:a.sentencia,to:t.id,offset:a.offset-n.offset,latencia:a.latencia,label:"("+a.latencia+", "+(a.offset-n.offset)+")",dashes:a.offset-n.offset<0})}}else if(null===e.edges.get(a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString())){e.edges.get({fields:["id"],filter:function(e){return e.from===a.sentencia&&e.to===t.id}}).length;e.edges.add({id:a.sentencia.toString()+t.id.toString()+a.latencia.toString()+(a.offset-n.offset).toString(),from:a.sentencia,to:t.id,offset:a.offset-n.offset,latencia:a.latencia,label:"("+a.latencia+", "+(a.offset-n.offset)+")",dashes:a.offset-n.offset<0})}}))}))})),console.log(e.edges)}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges},e.state.sentencias),e.setState({showPreview:!1}),e.state.spaceGraphNodes.clear(),e.state.spaceGraphEdges.clear();var t=function(e){var t,a=[],n=new Array(e.nodes.getIds().length).fill(!1),i=[],l=Object(c.a)(e.edges.getIds());try{for(l.s();!(t=l.n()).done;){var s=t.value,r=e.edges.get(s);void 0===a[r.from-1]&&(a[r.from-1]=[]),r.offset>=0&&-1===a[r.from-1].indexOf(r.to-1)&&a[r.from-1].push(r.to-1),r.from===r.to&&!1===n[r.to-1]&&(i.push([r.from-1,r.from-1]),n[r.to-1]=!0)}}catch(d){l.e(d)}finally{l.f()}var o=a.slice();return i=i.concat(Z()(o))}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges});e.setState({cycles:t},(function(){var t=Q(e.state.dependancesGraphEdges,e.state.dependancesGraphNodes,e.state.cycles,e.state.sentencias,e.state.n).sort((function(e,t){return t.total-e.total}));e.setState({trazas:t,checkedSecond:e.state.cycles.length>0,noTrazas:!(e.state.cycles.length>0)},(function(){!function(e,t,a){for(var n=e.nodes.getIds(),i=function(e){for(var i=function(n){var i={id:n.toString()+e.toString(),label:"S"+n.toString()+e.toString(),x:70*e,y:70*(n-1)};a.forEach((function(t){if(void 0===t.nodes){t.nodes=new Array(t.offset);for(var a=0;a<t.offset;a++)t.nodes[a]=new Array}for(var l=0;l<t.offset;l++){var s=t.ciclo.indexOf(n-1);-1!==s&&0!==s?(e-1-l-t.caminoOffsets[s-1])%t.offset===0&&t.nodes[l].push(i):-1!==s&&(e-1-l)%t.offset===0&&t.nodes[l].push(i)}})),t.nodes.add(i)},l=1;l<n.length+1;l++)i(l)},l=1;l<10;l++)i(l);console.log("Trazas = ",a),e.edges.forEach((function(e){for(var a=1;a<10;a++)e.offset<0&&a+e.offset>=0||e.offset>0&&a+e.offset<10?t.edges.add({from:e.from.toString()+a.toString(),to:e.to.toString()+(a+e.offset).toString()}):0===e.offset&&t.edges.add({from:e.from.toString()+a.toString(),to:e.to.toString()+a.toString()})}))}({nodes:e.state.dependancesGraphNodes,edges:e.state.dependancesGraphEdges},{nodes:e.state.spaceGraphNodes,edges:e.state.spaceGraphEdges},e.state.trazas),console.log("TRAZEANAAAAS ",e.state.trazas)}))}))}},"Calcular trazas"),i.a.createElement(Y.a,{in:this.state.noTrazas},i.a.createElement("div",{style:{background:"#FF9DB7",fontWeight:"bold",color:"#C20035",paddingTop:"10px",paddingBottom:"10px",textAlign:"center",marginTop:"5px"}},"No se han encontrado trazas")))),i.a.createElement(y.a,{item:!0,xs:2},i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(n.Fragment,null,i.a.createElement("input",{accept:"text/*",id:"contained-button-file",style:{display:"none"},type:"file",onChange:function(t){e.importar(t)}}),i.a.createElement("label",{htmlFor:"contained-button-file"},i.a.createElement(b.a,{fullWidth:!0,variant:"outlined",component:"span",align:"center",color:"primary",className:this.classes.button,onClick:function(){console.log(JSON.parse(e.state.sentencias))}},"Importar"))),i.a.createElement(b.a,{fullWidth:!0,type:"submit",variant:"outlined",align:"center",color:"primary",className:this.classes.button,onClick:function(){e.exportar()}},"Exportar")),i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(B.a,{control:i.a.createElement(ee.a,{checked:this.state.checked,onChange:this.showLatencies}),label:"Latencias",width:"100%"}),i.a.createElement(Y.a,{in:this.state.checked},i.a.createElement(q,{classes:this.classes,latencias:this.state.latencias,onChangeTxtFieldLatency:function(t,a){a<0?e.setState({latencias:Object(o.a)({},e.state.latencias,Object(r.a)({},t,0))}):a>10?e.setState({latencias:Object(o.a)({},e.state.latencias,Object(r.a)({},t,10))}):e.setState({latencias:Object(o.a)({},e.state.latencias,Object(r.a)({},t,parseInt(a)))})}}))))),i.a.createElement(Y.a,{in:this.state.checkedSecond},i.a.createElement(y.a,{containter:!0,container:!0,justify:"center",alignItems:"flex-start",spacing:3,style:{marginTop:"10px"}},i.a.createElement(y.a,{item:!0,xs:6},i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Trazas"),i.a.createElement(G.a,{onChange:this.handleChangeOnTrazaRadio},i.a.createElement(V.a,{"aria-label":"simple table"},i.a.createElement(J.a,null,i.a.createElement(U.a,null,i.a.createElement(_.a,null,"Camino"),i.a.createElement(_.a,{align:"right"},"Suma"),i.a.createElement(_.a,{align:"right"},"Total"),i.a.createElement(_.a,{align:"right"},"Ver"))),i.a.createElement(R.a,null,this.state.trazas.map((function(t,a){return i.a.createElement(U.a,{style:{background:0===a?"#FFD2DE":"#FFF"},key:a},i.a.createElement(_.a,{component:"th",scope:"row"},t.camino),i.a.createElement(_.a,{align:"right"},t.latencias),i.a.createElement(_.a,{align:"right"},t.total),i.a.createElement(_.a,{align:"right"},i.a.createElement(z.a,{value:a,inputProps:{"aria-label":"B"},checked:a==e.state.changeTrazaState})))}))))))),i.a.createElement(y.a,{item:!0,xs:4},i.a.createElement(A.a,{style:this.classes.paper,elevation:3},i.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Grafo de dependencias"),i.a.createElement(P,{graph:{nodes:[],edges:[]},getNodes:this.getNodesDependancesGraph.bind(this),getEdges:this.getEdgesDependancesGraph.bind(this)})))),i.a.createElement(y.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:3},i.a.createElement(y.a,{item:!0,xs:10},i.a.createElement(A.a,{style:this.classes.paper,height:"100%",elevation:3},i.a.createElement(k.a,{component:"h5",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},"Grafo espacial"),i.a.createElement(F,{graph:{nodes:[],edges:[]},getNodes:this.getNodesSpaceGraph.bind(this),getEdges:this.getEdgesSpaceGraph.bind(this)})))))))))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[181,1,2]]]);
//# sourceMappingURL=main.724ab966.chunk.js.map